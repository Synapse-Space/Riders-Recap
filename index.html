<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>RideWrapped 2025 | Your Year on Two Wheels</title>
    <meta
      name="description"
      content="Your annual riding recap. Every kilometer tells a story."
    />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- GSAP for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Leaflet.js for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- html2canvas for image capture -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- App Container -->
    <div id="app">
      <!-- Intro Screen -->
      <section id="intro-screen" class="screen active">
        <div class="intro-content">
          <div class="logo-animation">
            <div class="road-line"></div>
            <span class="logo-icon">ğŸï¸</span>
          </div>
          <h1 class="intro-title">RideWrapped</h1>
          <p class="intro-year">2025</p>
          <p class="intro-tagline">Your year. Your roads.</p>
          <button id="start-btn" class="cta-button">
            <span>Let's Begin</span>
            <svg
              class="arrow-icon"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
          </button>
        </div>
        <div class="bg-gradient"></div>
      </section>


    <section id="questionnaire-screen" class="screen">
      <div class="form-container">
        <h1 class="form-title">Your 2025 Rider Profile</h1>
        <p class="form-subtitle">Tell us about your year on two wheels.</p>
        
        <div class="questionnaire-form">
          <!-- Section 1: The Basics -->
          <div class="form-section">
            <h2 class="section-title">The Basics</h2>
            
            <div class="form-group">
              <label class="form-label">What's your name?</label>
              <input type="text" id="user-name" class="text-input" placeholder="Your Name" autocomplete="off">
            </div>

            <div class="form-group">
              <label class="form-label">Total distance ridden in 2025?</label>
              <div class="input-wrapper">
                <input type="number" id="total-distance" class="number-input" placeholder="0" min="0">
                <span class="input-suffix">km</span>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Where did you ride? (Min. 2 cities)</label>
              <div id="locations-container" class="locations-list">
                <!-- Location inputs will be added here -->
              </div>
              <button id="add-location-btn" class="secondary-button small">+ Add Location</button>
            </div>
          </div>

          <!-- Section 2: Your Style -->
          <div class="form-section">
            <h2 class="section-title">Your Style</h2>
            
            <div class="form-grid-2">
              <div class="form-group">
                <label class="form-label">Favorite time to ride?</label>
                <select id="favorite-time" class="select-input">
                  <option value="" disabled selected>Select...</option>
                  <option value="dawn">Dawn ğŸŒ…</option>
                  <option value="morning">Morning â˜€ï¸</option>
                  <option value="afternoon">Afternoon ğŸŒ¤ï¸</option>
                  <option value="evening">Evening ğŸŒ†</option>
                  <option value="night">Night ğŸŒ™</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label">Favorite terrain?</label>
                <select id="favorite-terrain" class="select-input">
                  <option value="" disabled selected>Select...</option>
                  <option value="mountains">Mountains ğŸ”ï¸</option>
                  <option value="highways">Highways ğŸ›£ï¸</option>
                  <option value="city">City Streets ğŸŒƒ</option>
                  <option value="coastal">Coastal Roads ğŸŒŠ</option>
                  <option value="countryside">Countryside ğŸŒ¾</option>
                </select>
              </div>
            </div>

            <div class="form-grid-2">
              <div class="form-group">
                <label class="form-label">Ideal weather?</label>
                <select id="preferred-weather" class="select-input">
                  <option value="" disabled selected>Select...</option>
                  <option value="sunny">Sunny â˜€ï¸</option>
                  <option value="cloudy">Cloudy â›…</option>
                  <option value="rainy">Rainy ğŸŒ§ï¸</option>
                  <option value="any">Any Weather ğŸŒˆ</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label">Typical ride length?</label>
                <select id="ride-length" class="select-input">
                  <option value="" disabled selected>Select...</option>
                  <option value="short">Quick Spins (Under 50km) âš¡</option>
                  <option value="medium">Day Trips (50-200km) ğŸ›¤ï¸</option>
                  <option value="long">Long Hauls (200km+) ğŸ—ºï¸</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Section 3: The Details -->
          <div class="form-section">
            <h2 class="section-title">The Details</h2>
            
            <div class="form-group">
              <label class="form-label">Longest single ride?</label>
              <div class="input-wrapper">
                <input type="number" id="longest-ride" class="number-input" placeholder="0" min="0">
                <span class="input-suffix">km</span>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">Favorite day to ride?</label>
              <div class="days-selector" id="favorite-day-selector">
                <button class="day-btn" data-value="monday">M</button>
                <button class="day-btn" data-value="tuesday">T</button>
                <button class="day-btn" data-value="wednesday">W</button>
                <button class="day-btn" data-value="thursday">T</button>
                <button class="day-btn" data-value="friday">F</button>
                <button class="day-btn" data-value="saturday">S</button>
                <button class="day-btn" data-value="sunday">S</button>
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">What do you ride?</label>
              <input type="text" id="bike-name" class="text-input" placeholder="e.g. Royal Enfield Classic 350" autocomplete="off">
            </div>
          </div>

          <!-- Section 4: Memories -->
          <div class="form-section">
            <h2 class="section-title">Memories</h2>
            
            <div class="form-group">
              <label class="form-label">Most memorable moment?</label>
              <textarea id="memorable-moment" class="textarea-input" rows="3" placeholder="Describe that one unforgettable ride..."></textarea>
            </div>

            <div class="form-group">
              <label class="form-label">Favorite memory photo (Optional)</label>
              <div class="file-upload-wrapper">
                <input type="file" id="memory-photo-upload" class="file-input" accept="image/*" style="display: none;">
                <label for="memory-photo-upload" class="file-upload-btn">
                  <span class="icon">ğŸ“¸</span> Choose Photo
                </label>
                <div id="memory-photo-preview" class="photo-preview-mini hidden"></div>
              </div>
            </div>
          </div>

          <!-- Submit Button -->
          <div class="form-actions">
            <button id="generate-btn" class="cta-button full-width">
              <span>Generate My RideWrapped</span>
              <span class="sparkle">âœ¨</span>
            </button>
          </div>
        </div>
      </div>
    </section>

      <!-- Slides Screen -->
      <section id="slides-screen" class="screen">
        <div class="slides-container" id="slides-container">
          <!-- Slides will be dynamically generated -->
        </div>

        <!-- Slide Navigation -->
        <div class="slide-nav">
          <button id="slide-prev" class="slide-nav-btn">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M15 18l-6-6 6-6" />
            </svg>
          </button>
          <div class="slide-dots" id="slide-dots"></div>
          <button id="slide-next" class="slide-nav-btn">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M9 18l6-6-6-6" />
            </svg>
          </button>
        </div>
      </section>
    </div>

    <!-- Share Modal for Instagram Stories -->
    <div id="share-modal" class="share-modal hidden">
      <div class="share-modal-backdrop" onclick="closeShareModal()"></div>
      <div class="share-modal-content">
        <button class="share-modal-close" onclick="closeShareModal()">Ã—</button>
        <h2 class="share-modal-title">ğŸ“¸ Share to Instagram</h2>
        <p class="share-modal-subtitle">Download your slides and share them to your Instagram Stories!</p>
        
        <div class="share-actions">
          <button class="share-action-btn primary" onclick="downloadCurrentSlide()">
            <span class="share-action-icon">ğŸ“¥</span>
            <div class="share-action-text">
              <span class="share-action-label">Download This Slide</span>
              <span class="share-action-desc">Save as image</span>
            </div>
          </button>
          
          <button class="share-action-btn" onclick="downloadAllSlides()">
            <span class="share-action-icon">ğŸ“¦</span>
            <div class="share-action-text">
              <span class="share-action-label">Download All Slides</span>
              <span class="share-action-desc">Get all slides as images</span>
            </div>
          </button>
        </div>
        
        <div class="share-instructions">
          <h3>How to share:</h3>
          <ol>
            <li>Download your slides</li>
            <li>Open Instagram</li>
            <li>Create a new Story</li>
            <li>Select the downloaded images</li>
            <li>Share with <strong>#RideWrapped2025</strong> ğŸï¸</li>
          </ol>
        </div>
        
        <div class="download-progress hidden" id="download-progress">
          <div class="download-progress-bar">
            <div class="download-progress-fill" id="download-progress-fill"></div>
          </div>
          <p class="download-progress-text" id="download-progress-text">Generating slides...</p>
        </div>
      </div>
    </div>

    <!-- Floating Instagram Share Button -->
    <button id="instagram-share-btn" class="instagram-share-btn hidden" onclick="openShareModal()">
      <span>ğŸ“·</span>
      <span>Share</span>
    </button>

    <!-- Canvas for share card generation -->
    <canvas id="share-canvas" style="display: none"></canvas>

    <script src="app.js"></script>
  </body>
</html>
